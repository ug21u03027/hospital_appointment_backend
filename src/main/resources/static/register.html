<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>Register</title></head><body>
<h1>Register</h1>
<div>
  <label>Name:</label><input id="name"><br>
  <label>Username:</label><input id="username"><br>
  <label>Password:</label><input id="password" type="password"><br>
  <label>Role:</label>
  <select id="role"><option value="USER">User</option><option value="DOCTOR">Doctor</option></select><br>
  <button id="register">Register</button>
  <p id="msg"></p>
</div>
<script>
document.getElementById('register').onclick = async () => {
  const n = document.getElementById('name').value.trim();
  const u = document.getElementById('username').value.trim();
  const p = document.getElementById('password').value.trim();
  const r = document.getElementById('role').value;
  const res = await fetch('/api/auth/register', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({name:n,username:u,password:p,role:r}) });
  if (res.ok) { document.getElementById('msg').textContent = 'Registered. You can login.'; } else { const t = await res.text(); document.getElementById('msg').textContent = 'Failed: ' + t; }
};
</script>
</body></html>
